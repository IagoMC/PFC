<mvc:View controllerName="displayshipping.controller.main"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m">
    <Page id="page" title="{i18n>title}">
 <content>

            <!-- Botones para ver envíos no entregados y entregados -->
            <Button text="Ver envíos no entregados" press="onViewShipmentsNotDelivered" />
            <Button text="Ver envíos entregados" press="onViewDeliveredShipmentsPress" />


            <!-- Tabla para mostrar los envíos -->
            <Table id="shipping_table"
                items="{
                    path: '/Envios',
                    filters: [{ path: 'Entregado', operator: 'EQ', value1: false }]
                }">

                <!-- Barra de herramientas con un campo de búsqueda -->

				<headerToolbar>
					<OverflowToolbar>
						<content>
							<ToolbarSpacer/>
                                 <SearchField
                                    id="searchField"
                                    width="20%"
                                    placeholder="{i18n>searchFieldPlaceholder}"
                                    search=".onSearch"/>
						</content>
					</OverflowToolbar>
				</headerToolbar>

                <!-- Columnas de la tabla -->
                <columns >
                    <!-- Definición de cada columna con un texto asociado -->
                    <Column minScreenWidth="Phone" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>id}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>FechaSalida}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>FechaLlegada}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>Origen}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>Destino}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>idConductor}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>Matricula}" />
                    </Column>
                    <Column minScreenWidth="Tablet" demandPopin="true" popinDisplay="Inline">
                        <Text text="{i18n>Entregado}" />
                    </Column>
                </columns>

                <!-- Elementos de la tabla -->
                <items>
                    <ColumnListItem >
                        <!-- Celdas de cada elemento de la tabla con un texto asociado -->
                        <cells>
                            <Text text="{id}" />
                        </cells>
                        <cells>
                            <Text text="{FechaSalida}" />
                        </cells>
                        <cells>
                            <Text text="{FechaLlegada}" />
                        </cells>
                        <cells>
                            <Text text="{Origen}" />
                        </cells>
                        <cells>
                            <Text text="{Destino}" />
                        </cells>
                        <cells>
                            <Text text="{idConductor}" />
                        </cells>
                        <cells>
                            <Text text="{Matricula}" />
                        </cells>
                        <cells>
                            <Text text="{Entregado}" />
                        </cells>
                    </ColumnListItem>
                </items>
            </Table>

            <!-- Botón para abrir un diálogo -->
            <Button text="Abrir diálogo" press="onOpenDialogPress" />

        </content>

        <!-- Diálogo para insertar un ID de envío -->
        <Dialog id="insertDialog" title="Insertar ID de envío" afterClose="onInsertDialogClose">
            <Input id="inputId" placeholder="ID del envío" />
            <Button text="Aceptar" press="onInsertDialogConfirm" />
            <Button text="Cancelar" press="onInsertDialogCancel" />
        </Dialog>
    </Page>
</mvc:View>
